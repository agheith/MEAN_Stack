<!DOCTYPE html>
<html lang="en" ng-app='app'>
    <head>
        <meta charset="utf-8">
        <title>Control Users</title>
        <script src='bower_components/angular/angular.js'></script>
        <script type="text/javascript">
            var app = angular.module('app', []);

            app.controller('usersController', ['$scope', function($scope){
                $scope.createUser = function(){
                    $scope.users.push($scope.user);
                };
                $scope.deleteUser = function(userToDelete){
                    $scope.users= $scope.users.filter(function(userObj){
                        return userObj !== userToDelete;
                    });
                };

                $scope.users = [
                  {
                      firstName:"Amer",
                      lastName:"Gheith",
                      favoriteLanguage: "JavaScript"
                  },
                  {
                      firstName:"Hamza",
                      lastName:"Gheith",
                      favoriteLanguage: "Python"
                  },{
                      firstName:"Hana",
                      lastName:"AbuShameh",
                      favoriteLanguage: "Ruby"
                  },
              ];

            }]);
        </script>
    </head>
    <body>
        <h1>Controlling Users</h1>
        <!--form to add users-->
        <div ng-controller='usersController'>
            <form ng-submit='createUser()'>
                <input type="text" ng-model='user.firstName'>
                <input type="text" ng-model='user.lastName'>
                <input type="text" ng-model='user.favoriteLanguage'>
                <input type="submit" value="Add User">
            </form>
            <table>
              <thead>
                <tr>
                  <th>First Name</th>
                  <th>Last Name</th>
                  <th>Favorite Language</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                  <tr ng-repeat='userObj in users'>
                      <td>{{userObj.firstName}}</td>
                      <td>{{userObj.lastName}}</td>
                      <td>{{userObj.favoriteLanguage}}</td>
                      <td><button ng-click='deleteUser(userObj)'>Delete</button></td>
                  </tr>
              </tbody>
            </table>
        </div>
    </body>
</html>
